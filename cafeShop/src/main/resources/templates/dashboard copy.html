<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lyhour Coffee - Dashboard</title>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha512-jQ4KqJ+m9C9hY5B5qg7xHPCG3r0RtlmVyQ2v1rUpvUl+4XhlYlMS0OV6wCkW3/q6GbRhkUj0X0HjaoFgI4tjvQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Inter', sans-serif; }
    h1, h2, h3, h4, h5 { font-family: 'Playfair Display', serif; }
    html { scroll-behavior: smooth; }
  </style>
</head>
<body class="bg-gradient-to-br from-yellow-50 to-gray-100">

  <header
    class="fixed top-0 left-0 w-full z-50 backdrop-blur-md bg-white/70 shadow-md">
    <div class="container mx-auto flex items-center justify-between py-4 px-6">
      
      <!-- Logo -->
      <div class="text-2xl font-bold text-yellow-600">
        â˜• Lyhour Coffee & Cake - Admin
      </div>

      <!-- Desktop Navigation -->
      <nav class="hidden md:flex space-x-8 text-gray-800 font-medium">
        <a href="/dashboard" class="hover:text-yellow-600">Dashboard</a>
        <a href="/products/add" class="hover:text-yellow-600">Add Product</a>
        <a href="/orders" class="hover:text-yellow-600">Orders</a>
        <a href="/users" class="hover:text-yellow-600">Customer</a>
        <a href="/reports" class="hover:text-yellow-600">Reports</a>
      </nav>

      <!-- Desktop Admin Controls -->
      <div class="hidden md:flex items-center space-x-4">
        <!-- Profile Dropdown -->
        <div class="relative">
          <a href="/admin/profile" class="flex items-center space-x-2 bg-white shadow px-4 py-2 rounded-full hover:bg-gray-100 transition">
            <img src="/images/admin-avatar.jpg" alt="Admin Avatar" class="w-8 h-8 rounded-full">
            <span class="font-semibold">Admin</span>
          </a>

          <!-- Dropdown Menu -->
          <div id="profileMenu" 
            class="absolute right-0 mt-2 w-48 bg-white shadow-lg rounded-lg hidden text-gray-800">
            <a href="/admin/profile" class="block px-4 py-2 hover:bg-gray-100">Profile</a>
            <a href="/settings" class="block px-4 py-2 hover:bg-gray-100">Settings</a>
            <a href="/signout" class="block px-4 py-2 text-red-600 hover:bg-red-100">Sign Out</a>
          </div>
        </div>
      </div>

      <!-- Mobile Menu Toggle -->
      <button id="menu-toggle" 
        class="md:hidden text-gray-800 focus:outline-none text-3xl">
        â˜°
      </button>
    </div>

    <!-- Mobile Navigation -->
    <div id="mobile-menu" 
      class="hidden md:hidden bg-white/90 backdrop-blur-md absolute top-16 left-0 w-full text-center space-y-6 py-6 text-gray-800 shadow-lg">
      <a href="/dashboard" class="block hover:text-yellow-600 transition">Dashboard</a>
      <a href="/products/add" class="block hover:text-yellow-600 transition">Add Product</a>
      <a href="/orders" class="block hover:text-yellow-600 transition">Orders</a>
      <a href="/users" class="block hover:text-yellow-600 transition">Customer</a>
      <a href="/reports" class="block hover:text-yellow-600 transition">Reports</a>
      <div class="pt-4 space-y-4">
        <a href="/profile" class="block w-4/5 mx-auto py-2 border border-yellow-500 rounded-full hover:bg-yellow-500 hover:text-black transition">Profile</a>
        <a href="/signout" class="block w-4/5 mx-auto py-2 bg-yellow-500 text-black rounded-full hover:bg-yellow-600 transition">Sign Out</a>
      </div>
    </div>
  </header>

  <!-- Main Section -->
  <section class="pt-28 pb-10 container mx-auto px-6">
    <div class="flex justify-between items-center mb-4">
      <h2 class="text-3xl font-bold text-gray-800">ðŸ“‹ Product Dashboard</h2>
      <a href="/products/add" 
         class="bg-green-500 hover:bg-green-600 text-white px-5 py-2 rounded-full font-semibold shadow-md transition">
         âž• Add New Product
      </a>
    </div>

    <div class="overflow-x-auto">
      <table class="min-w-full bg-white border border-gray-200 rounded-xl shadow-md">
        <thead>
          <tr class="bg-gradient-to-r from-green-50 to-green-100">
            <th class="px-6 py-3 text-left text-sm font-semibold text-gray-700">ID</th>
            <th class="px-6 py-3 text-left text-sm font-semibold text-gray-700">Name</th>
            <th class="px-6 py-3 text-left text-sm font-semibold text-gray-700">Description</th>
            <th class="px-6 py-3 text-left text-sm font-semibold text-gray-700">Category</th>
            <th class="px-6 py-3 text-left text-sm font-semibold text-gray-700">Price</th>
            <th class="px-6 py-3 text-left text-sm font-semibold text-gray-700">Image</th>
            <th class="px-6 py-3 text-center text-sm font-semibold text-gray-700">Actions</th>
          </tr>
        </thead>

        <tbody>
          <tr th:each="product : ${products}" class="hover:bg-gray-50 transition duration-200 border-t">
            <td th:text="${product.id}" class="px-6 py-3 text-sm text-gray-800"></td>
            <td th:text="${product.name}" class="px-6 py-3 text-sm text-gray-800"></td>
            <td th:text="${product.description}" class="px-6 py-3 text-sm text-gray-800"></td>
            <td th:text="${product.category}" class="px-6 py-3 text-sm text-gray-800"></td>
            <td th:text="'$' + ${product.price}" class="px-6 py-3 text-sm text-gray-800"></td>
            <td class="px-6 py-3 text-sm text-gray-800">
              <img th:if="${product.imageUrl != null}" 
                   th:src="${product.imageUrl}" 
                   alt="Product Image" 
                   class="w-16 h-16 object-cover rounded-md"/>
            </td>
            <td class="px-6 py-3 flex justify-center gap-3">
              <a th:href="@{/products/editproduct(id=${product.id})}" 
                 class="bg-blue-400 hover:bg-blue-500 text-white px-4 py-2 rounded-full text-sm font-semibold shadow-md hover:shadow-lg transition-all duration-200 ease-in-out transform hover:scale-105">
                 Edit
              </a>
              <a th:href="@{'/products/delete?id=' + ${product.id}}" 
                 onclick="return confirm('Are you sure?')"
                 class="bg-pink-400 hover:bg-pink-500 text-white px-4 py-2 rounded-full text-sm font-semibold shadow-md hover:shadow-lg transition-all duration-200 ease-in-out transform hover:scale-105">
                 Delete
              </a>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>

  <footer 
    class="bg-gray-800 text-gray-300 py-8 mt-20">
    <div class="container mx-auto px-6 lg:px-12 grid grid-cols-1 md:grid-cols-3 gap-8">
      
      <!-- Logo / Info -->
      <div>
        <h3 class="text-2xl font-bold text-yellow-500 mb-4">â˜• Lyhour Coffee & Cake - Admin Dashboard</h3>
        <p>Manage your coffee shop products, orders, and dashboard efficiently.</p>
      </div>
      
      <!-- Quick Links -->
      <div>
        <h4 class="text-white font-semibold mb-4">Quick Links</h4>
        <ul class="space-y-2">
          <li><a href="/dashboard" class="hover:text-yellow-400 transition">Dashboard</a></li>
          <li><a href="/products/add" class="hover:text-yellow-400 transition">Add Product</a></li>
          <li><a href="/orders" class="hover:text-yellow-400 transition">Orders</a></li>
          <li><a href="/users" class="hover:text-yellow-400 transition">Users</a></li>
        </ul>
      </div>

      <div>
        <h4 class="text-white font-semibold mb-4">Contact / Subscribe</h4>
        <form class="flex flex-col space-y-2">
          <input type="email" placeholder="Your Email" class="px-4 py-2 rounded-lg focus:outline-none text-black w-full"/>
          <button class="bg-yellow-500 text-black px-4 py-2 rounded-lg hover:bg-yellow-600 transition">Subscribe</button>
        </form>
        <p class="text-gray-400 text-sm mt-2">Questions? <a href="/contact" class="text-yellow-400 hover:underline">Contact Us</a></p>
      </div>
      
    </div>
    
    <div class="mt-10 text-center text-sm text-gray-500">
      Â© 2025 SuperV Coffee Shop. All rights reserved.
    </div>
  </footer>

  <script>
    const toggleButton = document.getElementById('menu-toggle');
    const mobileMenu = document.getElementById('mobile-menu');
    toggleButton?.addEventListener('click', () => {
      mobileMenu?.classList.toggle('hidden');
    });

      // Mobile menu toggle
  const menuToggle = document.getElementById("menu-toggle");

  menuToggle.addEventListener("click", () => {
    mobileMenu.classList.toggle("hidden");
  });

  // Profile dropdown toggle
  const profileToggle = document.getElementById("profileToggle");
  const profileMenu = document.getElementById("profileMenu");

  profileToggle.addEventListener("click", () => {
    profileMenu.classList.toggle("hidden");
  });

  // Close profile dropdown when clicking outside
  window.addEventListener("click", (e) => {
    if (!profileToggle.contains(e.target) && !profileMenu.contains(e.target)) {
      profileMenu.classList.add("hidden");
    }
  });
  </script>
</body>
</html>
